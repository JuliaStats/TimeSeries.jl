<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>The TimeArray time series type · TimeSeries.jl</title><meta name="title" content="The TimeArray time series type · TimeSeries.jl"/><meta property="og:title" content="The TimeArray time series type · TimeSeries.jl"/><meta property="twitter:title" content="The TimeArray time series type · TimeSeries.jl"/><meta name="description" content="Documentation for TimeSeries.jl."/><meta property="og:description" content="Documentation for TimeSeries.jl."/><meta property="twitter:description" content="Documentation for TimeSeries.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TimeSeries.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">TimeSeries Overview</a></li><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li class="is-active"><a class="tocitem" href>The <code>TimeArray</code> time series type</a><ul class="internal"><li><a class="tocitem" href="#timestamp"><span><code>timestamp</code></span></a></li><li><a class="tocitem" href="#values"><span><code>values</code></span></a></li><li><a class="tocitem" href="#colnames"><span><code>colnames</code></span></a></li><li><a class="tocitem" href="#meta"><span><code>meta</code></span></a></li><li><a class="tocitem" href="#Constructors"><span>Constructors</span></a></li><li><a class="tocitem" href="#Fields-getter-functions"><span>Fields getter functions</span></a></li></ul></li><li><a class="tocitem" href="../indexing/">Array indexing</a></li><li><a class="tocitem" href="../split/">Splitting by conditions</a></li><li><a class="tocitem" href="../modify/">Modify existing <code>TimeArray</code>s</a></li><li><a class="tocitem" href="../operators/">Mathematical, comparison, and logical operators</a></li><li><a class="tocitem" href="../apply/">Apply methods</a></li><li><a class="tocitem" href="../combine/">Combine methods</a></li><li><a class="tocitem" href="../readwrite/">I/O</a></li><li><a class="tocitem" href="../tables/">Tables.jl Interface Integration</a></li><li><a class="tocitem" href="../dotfile/">Customize <code>TimeArray</code> printing</a></li><li><a class="tocitem" href="../plotting/">Plotting</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>The <code>TimeArray</code> time series type</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>The <code>TimeArray</code> time series type</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaStats/TimeSeries.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaStats/TimeSeries.jl/blob/master/docs/src/timearray.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="The-TimeArray-time-series-type"><a class="docs-heading-anchor" href="#The-TimeArray-time-series-type">The <code>TimeArray</code> time series type</a><a id="The-TimeArray-time-series-type-1"></a><a class="docs-heading-anchor-permalink" href="#The-TimeArray-time-series-type" title="Permalink"></a></h1><p>The <code>TimeArray</code> time series type is defined here (with inner constructor code removed for readability):</p><pre><code class="language-julia hljs">struct TimeArray{T,N,D&lt;:TimeType,A&lt;:AbstractArray{T,N}} &lt;: AbstractTimeSeries{T,N,D}
    timestamp::Vector{D}
    values::A # some kind of AbstractArray{T,N}
    colnames::Vector{Symbol}
    meta::Any

    # inner constructor code enforcing invariants
end</code></pre><p>There are four fields for the type.</p><h2 id="timestamp"><a class="docs-heading-anchor" href="#timestamp"><code>timestamp</code></a><a id="timestamp-1"></a><a class="docs-heading-anchor-permalink" href="#timestamp" title="Permalink"></a></h2><p>The <code>timestamp</code> field consists of a vector of values of a child type of of <code>TimeType</code> - in practise either <code>Date</code> or <code>DateTime</code>. The <code>DateTime</code> type is similar to the <code>Date</code> type except it represents time frames smaller than a day. For the construction of a <code>TimeArray</code> to work, this vector needs to be sorted. If the vector includes dates that are not sequential, the construction of the object will error out. The vector also needs to be ordered from oldest to latest date, but this can be handled by the constructor and will not prohibit an object from being created.</p><h2 id="values"><a class="docs-heading-anchor" href="#values"><code>values</code></a><a id="values-1"></a><a class="docs-heading-anchor-permalink" href="#values" title="Permalink"></a></h2><p>The <code>values</code> field holds the data from the time series and its row count must match the length of the <code>timestamp</code> array. If these do not match, the constructor will fail. All the values inside the <code>values</code> array must be of the same type.</p><h2 id="colnames"><a class="docs-heading-anchor" href="#colnames"><code>colnames</code></a><a id="colnames-1"></a><a class="docs-heading-anchor-permalink" href="#colnames" title="Permalink"></a></h2><p>The <code>colnames</code> field is a vector of <code>Symbol</code> and contains the names of the columns for each column in the <code>values</code> field. The length of this vector must match the column count of the <code>values</code> array, or the constructor will fail. Since <code>TimeArrays</code> are indexable on column names, duplicate names in the <code>colnames</code> vector will be modified by the inner constructor. Each subsequent duplicate name will be appended by <code>_n</code> where <code>n</code> enumerates from 1.</p><h2 id="meta"><a class="docs-heading-anchor" href="#meta"><code>meta</code></a><a id="meta-1"></a><a class="docs-heading-anchor-permalink" href="#meta" title="Permalink"></a></h2><p>The <code>meta</code> field defaults to holding <code>nothing</code>, which is represented by type <code>Nothing</code>. This default is designed to allow programmers to ignore this field. For those who wish to utilize this field, <code>meta</code> can hold common types such as <code>String</code> or more elaborate user-defined types. One might want to assign a name to an object that is immutable versus relying on variable bindings outside of the object&#39;s type fields.</p><h2 id="Constructors"><a class="docs-heading-anchor" href="#Constructors">Constructors</a><a id="Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Constructors" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TimeSeries.TimeArray" href="#TimeSeries.TimeArray"><code>TimeSeries.TimeArray</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TimeArray{T,N,D&lt;:TimeType,A&lt;:AbstractArray{T,N}} &lt;: AbstractTimeSeries{T,N,D}</code></pre><p><strong>Constructors</strong></p><pre><code class="nohighlight hljs">TimeArray(timestamp, values[, colnames, meta = nothing])
TimeArray(ta::TimeArray; timestamp, values, colnames, meta)
TimeArray(data::NamedTuple, timestamp = :datetime, meta)
TimeArray(table; timestamp::Symbol, timeparser::Callable = identity)</code></pre><p>The second constructor yields a new <code>TimeArray</code> with the new given fields. Note that the unchanged fields will be shared, there aren&#39;t any copy for the underlying arrays.</p><p>The third constructor builds a <code>TimeArray</code> from a <code>NamedTuple</code>.</p><p><strong>Arguments</strong></p><ul><li><p><code>timestamp::AbstractVector{&lt;:TimeType}</code>: a vector of sorted timestamps,</p></li><li><p><code>timestamp::Symbol</code>: the column name of the time index from the source table. The constructor is used for the Tables.jl package integration.</p></li><li><p><code>values::AbstractArray</code>: a data vector or matrix. Its number of rows should match the length of <code>timestamp</code>.</p></li><li><p><code>colnames::Vector{Symbol}</code>: the column names. Its length should match the column of <code>values</code>.</p></li><li><p><code>meta::Any</code>: a user-defined metadata.</p></li><li><p><code>timeparser::Callable</code>: a mapping function for converting the source time index. For instance, <code>Dates.unix2datetime</code> is a common case.</p></li></ul><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">data = (datetime = [DateTime(2018, 11, 21, 12, 0), DateTime(2018, 11, 21, 13, 0)],
        col1 = [10.2, 11.2],
        col2 = [20.2, 21.2],
        col3 = [30.2, 31.2])
ta = TimeArray(data; timestamp = :datetime, meta = &quot;Example&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/TimeSeries.jl/blob/c0ed87567d3232d6836ee2c931f1508fdda7d7dd/src/timearray.jl#L11-L53">source</a></section></article><h2 id="Fields-getter-functions"><a class="docs-heading-anchor" href="#Fields-getter-functions">Fields getter functions</a><a id="Fields-getter-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Fields-getter-functions" title="Permalink"></a></h2><p>There are four field getter functions exported. They are named as same as the field names.</p><ul><li><a href="#TimeSeries.timestamp"><code>timestamp</code></a></li><li><a href="#Base.values"><code>values</code></a></li><li><a href="#TimeSeries.colnames"><code>colnames</code></a></li><li><a href="#TimeSeries.meta"><code>meta</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TimeSeries.timestamp" href="#TimeSeries.timestamp"><code>TimeSeries.timestamp</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">timestamp(ta::TimeArray)</code></pre><p>Get the time index of a <code>TimeArray</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/TimeSeries.jl/blob/c0ed87567d3232d6836ee2c931f1508fdda7d7dd/src/timearray.jl#L336-L340">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.values" href="#Base.values"><code>Base.values</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">values(ta::TimeArray)</code></pre><p>Get the underlying value table of a <code>TimeArray</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/TimeSeries.jl/blob/c0ed87567d3232d6836ee2c931f1508fdda7d7dd/src/timearray.jl#L343-L347">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TimeSeries.colnames" href="#TimeSeries.colnames"><code>TimeSeries.colnames</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">colnames(ta::TimeArray)</code></pre><p>Get the column names of a <code>TimeArray</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; colnames(ohlc)
4-element Array{Symbol,1}:
 :Open
 :High
 :Low
 :Close</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/TimeSeries.jl/blob/c0ed87567d3232d6836ee2c931f1508fdda7d7dd/src/timearray.jl#L350-L365">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TimeSeries.meta" href="#TimeSeries.meta"><code>TimeSeries.meta</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">meta(ta::TimeArray)</code></pre><p>Get the user-defined metadata of a <code>TimeArray</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/TimeSeries.jl/blob/c0ed87567d3232d6836ee2c931f1508fdda7d7dd/src/timearray.jl#L368-L372">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../getting_started/">« Getting Started</a><a class="docs-footer-nextpage" href="../indexing/">Array indexing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Wednesday 22 November 2023 00:50">Wednesday 22 November 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
